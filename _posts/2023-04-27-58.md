---
layout:post
title: "2023년4월 27일자 프로그래밍 이론"
---



트랜잭션의 정의
-데이터베이스의 상태를 변환시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는
한꺼번에 모두 수행되어야 할 일련의 연산들을 의미한다.
-데이터베이스 시스템에서 복구 및 병행 수행 시 처리되는 작업의 논리적 단위이다.
-하나의 트랜잭션은 Commit되거나 Rollback된다.
-트랜잭션은 일반적으로 회복의 단위가 된다.

트랜잭션의 특성

Atomictiy(원자성)
-트랜잭션의 연산은 데이터베이스에 모두 반영되든지 아니면 전혀 반영되지 않아야 함
-트랜잭션 내의 모든 명령은 반드시 완벽히 수행되어야 하여, 모두가 완벽히 수행되지 않고
어느 하나라도 에러가 발생하면 트랜잭션 전부가 취소되어야 함

Consistency(일관성)
-트랜잭션이 그 실행을 성공적으로 완료하면 언제나 일관성 있는 데이터베이스 상태로 변환함
-시스템이 가지고 있는 고정 요소는 트랜잭션 수행전과 트랜잭션 수행 완료 후의 상태가 같아야 함

Isolation(독립성,격리성)
-둘 이상의 트랜잭션이 동시에 병행 실행되는 경우 어느 하나의 트랜잭션 실행중에 
다른 트랜잭션의 연산이 끼어들 수 없음
-수행중인 트랜잭션은 완전히 완료될 때까지 다른 트랜잭션에서 수행 결과를 참조할 수 없음

Durability(영속성,지속성)
-성공적으로 완료된 트랜잭션의 결과는 시스템이 고장나더라도 영구적으로 반영되어야 함

Commit, Rollback 연산
-Commit 연산 : 하나의 논리적 단위(트랜잭션)에 대한 작업이 성공적으로 끝났고,
데이터베이스가 다시 일관된 상태에 있을 때 이 트랜잭션이 행한 갱신 연산이 완료된 것을
트랜잭션 관리자에게 알려주는 연산

-Rollback 연산 : 하나의 트랜잭션 처리가 비정상적으로 종료되어 데이터베이스의 일관성을 깨뜨렸을 때,
이 트랜잭션의 일부가 정상적으로 처리되었더라도 트랜잭션의 원자성을 구현하기 위해 
이 트랜잭션이 행한 모든 연산을 취소(Undo)시키는 연산으로, 해당 트랜잭션을 재시작하거나 폐기함

회복(Recovery)
-회복은 트랜잭션들의 처리를 수행하는 도중 장애가 발생하여 데이터베이스가 손상되었을 때
손상되기 이전의 정상 상태로 복구시키는 작업이다.

장애의 유형
-트랜잭션 장애: 입력 데이터 오류, 불명확한 데이터, 시스템 자원 요구의 과다 등
트랜잭션 내부의 비정상적인 상황으로 인하여 프로그램 실행이 중지되는 현상 
-시스템 장애: 데이터베이스에 손상을 입히지는 않으나 하드웨어 오동작, 소프트웨어의 손상,
교착 상태등에 의해 모든 트랜잭션의 연속적인 수행에 장애를 주는 현상
-미디어 장애: 저장장치인 디스크 블록의 손상이나 디스크 헤드의 충돌 등에 의해 
데이터베이스의 일부 또는 전부가 물리적으로 손상된 상태

회복 관리기(Recovery Management)
-DBMS의 구성 요소이다.
-트랜잭션 실행이 성공적으로 완료되지 못하면 트랜잭션이 데이터베이스에 만들었던
모든 변화를 취소(Undo)시키고 트랜잭션 수행 이전의 원래 상태로 복구하는 역할을 담당한다.
-메모리 덤프, 로그(Log)을 이용하여 수행한다.

회복 기법의 종류
-연기 갱신 기법(Deferred Update)
-즉각 갱신 기법(Immediate Update)
-그림자 페이지 대체 기법(Shadow Paging)
-검사점 기법(Check Point)

병행 제어(Concurrency Control)
다중 프로그램의 이점을 활용하여 동시에 여러 개의 트랜잭션을 병행 수행시킬 때,
동시에 실행되는 트랜잭션들이 데이터베이스의 일광성을 파괴하지 않도록
트랜잭션 간의 상호작용을 제어하는 것이다.

병행 수행의 문제점
-갱신 분실(Last Update) : 2개 이상의 트랜잭션이 같은 자료를 공유하여 갱신할 때
갱신 결과의 일부가 없어지는 현상
-비완료 의존성(Uncommitted Dependency) : 하나의 트랜잭션 수행이 실패한 후
회복되기 전에 다른 트랜잭션이 실패한 갱신 결과를 참조하는 현상
-모순성(Inconsistency) : 두 개의 트랜잭션이 병행 수행될 때 원치 않는 자료를 이용함으로써
발생하는 문제
-연쇄 복귀(Cascading Rollback) : 병행 수행되던 트랜잭션들 중 어느 하나에 문제가 생겨 Rollback하는
경우 다른 트랜잭션도 함께 Rollback되는 현상

병행 제어의 목적
-데이터베이스의 공유를 최대화한다.
-시스템의 활용도를 최대화한다.
-데이터베이스의 일관성을 유지한다.
-사용자에 대한 응답 시간을 최소화한다.

로킹(Locking)
-로킹은 주요 데이터의 액세스를 상호 배타적으로 하는 것이다.
-트랜잭션들이 어떤 로킹 단위를 액세스하기 전에 Lock(잠금)을 요청해서 Lock이 허락되어야만
그 로킹 단위를 액세스할 수 있도록 하는 기법이다.

로킹 단위(Locking Granularity)
-병행 제어에서 한꺼번에 로킹할 수 있는 데이터 단위이다.
-데이터베이스, 파일, 레코드, 필드 등은 로킹 단위가 될 수 있다.
-로킹 단위가 크면 로크 수가 작아 관리하기 쉽지만 병행성 수준이 낮아지고,
로킹 단위가 작으면 로크 수가 많아 관리하기 복잡하지만 병행성 수준이 높아진다.

보안(Security)

데이터베이스 보안의 개요
-데이터베이스의 일부분 또는 전체에 대해서 권한이 없는 사용자가 액세스를 수행하는 것을
금지하기 위해 사용되는 기술이다.
-데이터베이스 사용자들은 일반적으로 서로 다른 객체에 대하여 다른 접근권리 또는 권한을 갖게된다.

무결성(Integrity)과 보안(Security)
-무결성은 권한이 있는 사용자로부터 데이터베이스를 보호하는 것이고,
보안은 권한이 없는 사용자로부터 데이터베이스를 보호하는 것을 말한다.
-보안은 데이터베이스 사용자들이 데이터베이스를 사용하고자 할 때 언제든지
사용할 수 있도록 보장하는 것이고, 무결성은 정확하게 사용할 수 있도록 보장하는것을 말한다.

암호화 기법
개인키 암호 방식(Private Key Encryption) = 비밀키 암호 방식
- 동일한 키로 데이터를 암호화하고 복호화한다.
- 비밀키는 제3자에게는 노출시키지 않고, 데이터베이스 사용 권한이 있는 사용자만 나누어 가진다.
- 대칭 암호 방식 또는 단일키 암호화 기법이라고도 한다.
- 대표적으로 DES(Data Encryption Standard)가 있다.
- 장점: 암호화/복호화 속도가 빠르며, 알고리즘이 단순하고 파일 크기가 작음
- 단점: 사용자의 증가에 따라 관리해야 할 키의 수가 상대적으로 많아짐
- DES는 56Bit의 16개 키를 이용하여 64Bit의 평문 블록을 16회의 암호 계산 단계를 거쳐 64Bit의 암호문을 얻는다.

공개키 암호 방식(Public Key Encryption)
- 서로 다른 키로 데이터를 암호하하고 복호화 한다.
- 데이터를 암호화할 때 사용하는 키(공개키, Public Key)는 데이터베이스 사용자에게 공개하고, 복호화할때의
키(비밀키, Secret Key)는 관리자가 비밀리에 관리하는 방법이다.
- 비대칭 암호 방식이라고도 하며, 대표적으로 RSA(Rivest Shamir Adleman)가 있다.
-장점: 키의 분배가 용이하고, 관리해야 할 키의 개수가 적음
-단점: 암호화/복호화 속도가 느리며, 알고리즘이 복잡하고 파일 크기가 큼

권한 부여 기법
-권한 부여 기법은 일반적으로 사용자들이 서로 다른 객체에 대하여 서로 다른 접근 권한을 갖게 설정한다.
-권한 부여 기법에서 보안을 위한 데이터 단위는 테이블 전체나 특정한 행, 열에 있는 데이터 값이 될 수 있다.
-GRANT :  권한 부여 명령
-REVOKE : 권한 취소 명령
-사용자 등급 지정 및 해제 
-GRANT 사용자 등급 TO 사용자 ID 리스트 [IDENTIFIEDBY 암호 리스트];
-REVOKE  사용자 등급 FROM 사용자 ID 리스트; 

사용자 등급의 종류
- DBA : 데이터베이스 관리 책임자
- RESOURCE : 데이터베이스 및 테이블 생성 가능자
- CONNECT : 단순 사용자

예제1 GRANT RESOURCE TO KORA;
사용자 ID가 KORA인 사람에게 데이터베이스 및 테이블을 생성할 수 있는 권한을 부여한다.
예제2 GRANT CONNECT TO STAR;
사용자 ID가 STAR인 사람에게 단순히 데이터베이스에 있는 정보를 검색할 수 있는 권한을 부여한다.

테이블 및 속성에 대한 권한 부여 및 취소
-GRANT 권한 ON 데이터 개체 TO 사용자 [WITH GRANT OPTION];
-REVOKE [GRANT OPTION FOR] 권한 ON 데이터 개체 FROM 사용자 [CASCADE];

권한 종류 : ALL, SELECT, INSERT, DELETE, UPDATE, INDEX, ALTER 등
WITH GRANT OPTION : 부여받은 권한을 다른 사용자에게 다시 부여할 수 있는 권한을 부여한다.
GRANT OPTION FOR : 다른 사용자에게 권한을 부여할 수 있는 권한을 취소한다
CASCADE : 권한 해제 시 권한을 부여받았던 사용자가 다른 사용자에게 부여한 권한도 연쇄적으로 해제한다.

예제3 GRANT ALL ON 고객 TO JULIA WHITH GRANT OPTION;
사용자 ID가 JULIA인 사람에게 고객 테이블에 대한 모든 권한과 다른사람에게도 권한을 부여할 수 있는 권한까지 부여한다.
예제4 REVOKE UPDATE ON 고객  FROM JULIA;
사용자가 ID가 JULIA인 사람에게 부여한 권한 중 갱신(UPDATE) 권한을 취소한다.

분산 데이터베이스
분산 데이터베이스는 논리적으로는 하나의 시스템에 속하지만 물리적으로는 네트워크를 통해
연결된 여러개의 컴퓨터 사이트(Site)에 분산되어 있는 데이터베이스를 의미한다.

분산 데이터베이스의 4대 목표

위치 투명성(Location Transparency)
액세스하려는 데이터베이스의 실제 위치를 알 필요 없이 
단지 데이터베이스의 논리적인 명칭만으로 액세스할 수 있음

중복(복제)투명성(Replication Transparency)
동일 데이터가 여러 곳에 중복되어 있더라도 사용자는 마치 하나의 데이터만
존재하는 것처럼 사용하고, 시스템은 자동으로 여러 자료에 대한 작업을 수행함

병행 투명성(Concurrency Transoarensy) 
분산 데이터베이스와 관련된 다수의 트랜잭션들이 동시에 실현되더라도 
그 트랜잭션의 결과는 영향을 받지 않음

장애 투명성(Failure  Transparency)
트랜잭션, DBMS, 네트워크, 컴퓨터 장애에도 불구하고 트랜잭션을 정확하게 처리함

분산 데이터베이스의 장 단점
장점
- 지역 자치성이 높음
- 자료의 공유성이 향상
- 분산 제어가 가능함
- 시스템 성능이 향상
- 효용성과 융통성이 높음
- 신뢰성 및 가용성이 높음
- 점증적 시스템 용량 확장이 용이함

단점
- DBMS가 수행할 기능이 복잡함
- 데이터베이스 설계가 어려움
- 소프트웨어 개발 비용이 증가함
- 처리 비용이 증가함
- 잠재적 오류가 증가함

